<template>
    <lightning-card title="Contract Creation">
        <div class="slds-grid slds-wrap slds-var-p-around_xx-large">
            <div class="slds-col slds-size_1-of-3 slds-var-p-left_xx-large slds-text-heading_small">
                <template if:true={step1detail}>
                    Select the building whose flat you want to book. Click on 'Next' to add details in every steps.
                </template>
                <template if:true={step2detail}>
                    Select the appropriate flat.
                </template>
                <template if:true={step3detail}>
                    Add the tenant details.
                </template>
                <template if:true={step4detail}>
                    Add other details like story, room, start date, end date etc.
                </template>
                <template if:true={step5detail}>
                    Check the details before creating the contract. Click on 'Finish' to create the contract.
                </template>
            </div>

            <div class="slds-col slds-size_2-of-3 slds-var-p-right_xx-large slds-text-heading_small">
                <div class="slds-var-p-around_small">
                    <lightning-progress-indicator current-step={current_step} type="base" variant="base">
                        <lightning-progress-step label="Add Building" value="1"></lightning-progress-step>
                        <lightning-progress-step label="Add Flat" value="2"></lightning-progress-step>
                        <lightning-progress-step label="Add Tenant" value="3"></lightning-progress-step>
                        <lightning-progress-step label="Add Contract Details" value="4"></lightning-progress-step>
                        <lightning-progress-step label="Finish" value="5"></lightning-progress-step>
                    </lightning-progress-indicator>
                </div>

                </br></br>

                <div class="slds-box" style="max-height: 260px; overflow-y: scroll">
                    <template if:true={step1}>
                        Building Name:
                        <lightning-input type="search" data-id="building_name" placeholder={buildingName} onchange={contractDetailHandler}
                            required></lightning-input>
                            <div>
                                <template for:each={buildingList} for:item="building">
                                    <div key={building.Id}>
                                        <a data-id={building.Id} onclick={selectedBuildingHandler}>{building.Name}</a>
                                    </div>
                                </template>
                            </div>                        
                    </template>
                    <template if:true={step2}>
                        Flat Name:
                        <lightning-input type="search" data-id="flat_name" onchange={contractDetailHandler} required>
                        </lightning-input>
                    </template>
                    <template if:true={step3}>
                        Tenant Name:
                        <lightning-input type="search" data-id="tenant_name" onchange={contractDetailHandler} required>
                        </lightning-input>
                    </template>
                    <template if:true={step4}>
                        Enter additional details:
                        <div class="slds-grid slds-wrap">
                            <div class="slds-col slds-size_1-of-2 slds-var-p-around_small">
                                <lightning-input type="text" value="tenantName" disabled></lightning-input>
                                <lightning-input type="text" value="buildingName" disabled></lightning-input>
                                <lightning-input type="text" value="flatName" disabled></lightning-input>
                                <lightning-input type="number" placeholder="Floor" onchange={contractDetailHandler}
                                    required></lightning-input>
                                <lightning-input type="number" placeholder="Room" onchange={contractDetailHandler}
                                    required></lightning-input>
                            </div>
                            <div class="slds-col slds-size_1-of-2 slds-var-p-around_small">
                                <lightning-combobox value={value} placeholder="Status"
                                    options={statusPicklist.data.values} onchange={contractDetailHandler}>
                                </lightning-combobox>
                                <lightning-input type="date" placeholder="Start Date" onchange={contractDetailHandler}
                                    required></lightning-input>
                                <lightning-input type="date" placeholder="End Date" onchange={contractDetailHandler}
                                    required></lightning-input>
                            </div>
                        </div>
                    </template>
                    <template if:true={step5}>
                        Check the below details before submitting.
                        <div class="slds-grid slds-wrap">
                            <div class="slds-col slds-size_1-of-2 slds-var-p-around_small">
                                <lightning-input type="text" value="tenantName" disabled></lightning-input>
                                <lightning-input type="text" value="buildingName" disabled></lightning-input>
                                <lightning-input type="text" value="flatName" disabled></lightning-input>
                                <lightning-input type="number" value="floorNumber" disabled></lightning-input>
                                <lightning-input type="number" value="roomNumber" disabled></lightning-input>
                            </div>
                            <div class="slds-col slds-size_1-of-2 slds-var-p-around_small">
                                <lightning-input type="text" value="status" disabled></lightning-input>
                                <lightning-input type="date" value="startDate" disabled></lightning-input>
                                <lightning-input type="date" value="endDate" disabled></lightning-input>
                            </div>
                        </div>
                    </template>
                </div>

                </br></br>

                <div>
                    <lightning-button variant="brand" label={bttnLabel} class="slds-float_right"
                        onclick={nextStateChangeHandler}></lightning-button>
                    <template if:true={enablePrevButton}>
                        <lightning-button variant="neutral" label="Previous"
                            class="slds-float_right slds-var-m-right_small" onclick={previousStateChangeHandler}>
                        </lightning-button>
                    </template>
                </div>
            </div>
        </div>
    </lightning-card>
</template>